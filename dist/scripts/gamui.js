var EnergyBar=function(){var e,n,t=function(t){if(!t.xPos||!t.yPos)return console.error("One or more position missing.");t.color=t.color||"red",t.count=t.count||1,e=document.createElement("div"),n=document.createElement("div");var r=10;if(t.count>1&&(r=10*t.count,r+=20*(t.count-1)),10>r&&(r=10),e.className="energy-bar-cont",n.className="energy-bar",t.border&&(e.style.borderColor=t.color),e.style[t.xPos]="10px",e.style[t.yPos]=r+"px",n.style.backgroundColor=t.color,void 0!==t.class&&t.class.length>0){if(!Array.isArray(t.class))return console.error("Class property needs to be an array.");t.class.forEach(function(n){e.classList.add(n)})}e.appendChild(n),document.body.appendChild(e)},r=function(e){e>100&&(e=100),0>e&&(e=0),n.style.width=e+"%"},o=function(){e.style.display="none"},s=function(){e.style.display="block"};return{init:t,update:r,hide:o,show:s}},Menu=function(){var e,n,t=function(t){if(!Array.isArray(t.menuArray))return console.error("Menu init method must be passed an Array.");if(e=document.createElement("div"),n=document.createElement("ul"),e.className="menu",e.appendChild(n),""!==t.parent&&void 0!==t.parent?t.parent.appendChild(e):document.body.appendChild(e),void 0!==t.class&&t.class.length>0){if(!Array.isArray(t.class))return console.error("Class property needs to be an array.");t.class.forEach(function(n){e.classList.add(n)})}t.menuArray.forEach(function(e){if("undefined"==typeof e.url&&"undefined"==typeof e.action)return console.error("All menu items must have an action or url.");if("undefined"==typeof e.type)return console.error("All menu items must have a type.");var t=document.createElement("li");t.className="menu-item","link"==e.type?t.innerHTML='<a href="'+e.url+'" target="_blank">'+e.title+"</a>":(t.innerHTML=e.title,t.addEventListener("click",function(){e.action()})),n.appendChild(t)})},r=function(){e.style.display="none"},o=function(){e.style.display="block"};return{init:t,hide:r,show:o}},ScoreBox=function(){var e,n,t=function(t){if(!t.xPos||!t.yPos)return console.error("One or more position missing.");if(t.count=t.count||1,e=t.score||0,n=document.createElement("div"),n.style.display="none",n.className="score-box",void 0!==t.class&&t.class.length>0){if(!Array.isArray(t.class))return console.error("Class property needs to be an array.");t.class.forEach(function(e){n.classList.add(e)})}var r=10;t.count>1&&(r=10*t.count,r+=20*(t.count-1)),10>r&&(r=10),n.style[t.xPos]="10px",n.style[t.yPos]=r+"px",document.body.appendChild(n)},r=function(t){e+=t,n.innerHTML=e},o=function(){e=0,r(0)},s=function(){n.style.display="none"},i=function(){n.innerHTML=e,n.style.display="block"};return{init:t,update:r,reset:o,hide:s,show:i}},FullScreen=function(){var e=!1,n=function(){document.addEventListener("keydown",function(e){13==e.keyCode&&r()},!1)},t=function(){var n=document.getElementsByTagName("body")[0];e=!0,n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()},r=function(){e&&(e=!1,document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen())};return{init:n,setFull:t,endFull:r}},SocialBar=function(){var e,n=!0,t=!1,r=!1,o=!1,s=function(n){if("undefined"==typeof n.url||""===n.url)return void console.error("The social bar must be initialized with a url.");var s=n.yPos||"top",i="";if(e=document.createElement("div"),e.setAttribute("id","social-bar"),e.style[s]=0,n.facebook&&(i+='<div class="fb-share-button" data-href="'+n.url+'" data-layout="button_count" style="vertical-align:top;zoom:1;*display:inline"></div>',t=!0),n.twitter&&(i+='<a class="twitter-share-button" href="https://twitter.com/share">Tweet</a>',r=!0),n.google&&(i+='<div class="g-plus" data-action="share" data-annotation="bubble" data-href="'+n.url+'"></div>',o=!0),void 0!==n.class&&n.class.length>0){if(!Array.isArray(n.class))return console.error("Class property needs to be an array.");n.class.forEach(function(n){e.classList.add(n)})}e.innerHTML=i,document.body.appendChild(e)},i=function(){e.style.display="block",n&&l()},a=function(){e.style.display="none"},l=function(){t&&FB.XFBML.parse(),r&&twttr.widgets.load(),o&&gapi.plus.go(),n=!1};return{init:s,show:i,hide:a}},GameScreen=function(){var e,n=function(n){if(""===n.element||void 0===n.element)return console.error("Need to supply an element by id to create a screen.");if(e=document.getElementById(n.element),e.classList.add("game-screen"),null===e)return console.error("No element with id of "+n.element+" found.");if(void 0!==n.class&&n.class.length>0){if(!Array.isArray(n.class))return console.error("Class property needs to be an array.");n.class.forEach(function(n){e.classList.add(n)})}},t=function(){e.style.display="block"},r=function(){e.style.display="none"},o=function(){return e};return{init:n,show:t,hide:r,getElement:o}},Sequence=function(){var e,n,t,r,o,s=0,i=0,a=function(o){if(e=document.createElement("div"),e.className="sequence-container",t=o.offset||1e3,n=o.wait||1500,!(void 0!==o.images&&o.images.length>0))return console.error("Sequence must be instatiated with images");if(!Array.isArray(o.images))return console.error("Images property must be an array");if(r=o.images.length,o.images.forEach(function(n){if("string"!=typeof n)return console.error("Images must be URL string");var t="hide",r=document.createElement("img");r.setAttribute("src",n),r.setAttribute("class",t),e.appendChild(r),r.onload=function(){s++}}),void 0!==o.class&&o.class.length>0){if(!Array.isArray(o.class))return console.error("Class property needs to be an array.");o.class.forEach(function(n){e.classList.add(n)})}},l=function(){return i==e.childNodes.length?u():(setTimeout(function(){e.childNodes[i].classList.remove("hide"),e.childNodes[i].classList.add("show")},500),void setTimeout(function(){e.childNodes[i].classList.remove("show"),e.childNodes[i].classList.add("hide"),setTimeout(function(){i++,l()},t)},n))},c=function(n){s==r?(document.body.appendChild(e),l(),n()):setTimeout(function(){c(n)},500)},u=function(){clearInterval(o),o=null,setTimeout(function(){document.body.removeChild(e)},500)},d=function(e){c(e)};return{init:a,remove:u,insert:d}};